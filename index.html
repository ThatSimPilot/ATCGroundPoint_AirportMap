<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ATC Ground Point Airports</title>

    <!-- Favicon -->
    <link rel="icon" type="image/ico" sizes="64x64" href="assets/favicon.ico" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />

    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css" />

    <!-- Globe.gl -->
    <script src="//cdn.jsdelivr.net/npm/globe.gl"></script>
  </head>

  <body>
    <!-- Header -->
    <header class="py-3 bg-header text-light header-bar border-bottom">
      <div class="container-fluid px-3">
        <h1 class="h4 mb-1">ATC Ground Point Airports</h1>
        <p class="mb-0 small text-light">
          Browse base, in-development, and released airports on an interactive
          3d globe.
        </p>
      </div>
    </header>

    <!-- Main content -->
    <main class="d-flex flex-column flex-grow-1">
      <div class="container-fluid flex-grow-1 overflow-hidden py-2 px-3">
        <!-- Custom flex layout instead of Bootstrap row/cols -->
        <div id="main-layout" class="main-layout">
          <!-- Sidebar -->
          <aside id="sidebar" class="sidebar d-flex flex-column rounded-3 p-3">
            <section class="sidebar-block">
              <!-- Filters -->
              <h2 class="h6 mb-2 filters">Filters</h2>
              <div class="form-check small mb-1">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="filter-base"
                  checked
                />
                <label class="form-check-label" for="filter-base"
                  >Base airports</label
                >
              </div>
              <div class="form-check small mb-1">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="filter-in-dev"
                  checked
                />
                <label class="form-check-label" for="filter-in-dev"
                  >In development</label
                >
              </div>
              <div class="form-check small mb-1">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="filter-released"
                  checked
                />
                <label class="form-check-label" for="filter-released"
                  >Released</label
                >
              </div>
            </section>

            <section class="sidebar-block">
              <h2 class="h6 mb-2 legend">Legend</h2>
              <div class="legend-item">
                <span class="legend-dot legend-base"></span>
                <span class="small">Base</span>
              </div>
              <div class="legend-item">
                <span class="legend-dot legend-in_dev"></span>
                <span class="small">In development</span>
              </div>
              <div class="legend-item">
                <span class="legend-dot legend-released"></span>
                <span class="small">Released</span>
              </div>
            </section>

            <section
              class="sidebar-block sidebar-block-last airport-list flex-grow-1 d-flex flex-column min-h-0"
            >
              <h2 class="h6 mb-2 airports">Airports</h2>
              <div class="input-group input-group-sm mb-2 airport-search">
                <span class="input-group-text">
                  <i class="bi bi-search"></i>
                </span>
                <input
                  type="text"
                  id="search"
                  class="form-control"
                  placeholder="Search by ICAO or name"
                />
              </div>
              <ul
                id="airport-list"
                class="list-unstyled flex-grow-1 overflow-auto mb-0"
              ></ul>
            </section>
          </aside>

          <!-- Globe Column -->
          <section class="globe-column">
            <div class="globe-inner">
              <div class="globe-wrapper rounded-3">
                <div id="globe" class="w-100 h-100"></div>

                <!-- Airport details overlay -->
                <div id="airport-details" class="airport-details-card d-none">
                  <div
                    class="airport-details-header d-flex justify-content-between align-items-center mb-1"
                  >
                    <div>
                      <div
                        id="airport-details-icao"
                        class="fw-semibold small"
                      ></div>
                      <div
                        id="airport-details-name"
                        class="small text-secondary"
                      ></div>
                    </div>
                    <span
                      id="airport-details-status"
                      class="badge rounded-pill"
                    ></span>
                  </div>
                  <div
                    class="airport-details-footer d-flex justify-content-between align-items-center"
                  >
                    <div class="small text-secondary">
                      <span id="airport-details-coords"></span>
                    </div>
                    <a
                      id="airport-details-link"
                      href="#"
                      target="_blank"
                      rel="noopener"
                      class="small text-decoration-underline"
                    >
                      Open airport page
                    </a>
                  </div>
                </div>

                <div id="bmc-widget-container" aria-hidden="true"></div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="py-2 bg-footer text-light small footer-bar border-top">
      <div class="container-fluid px-3">
        <div class="footer-content">
          <span>ATC Ground Point | Community airport overview</span>
          <span class="footer-updated">
            Database updated:
            <span id="database-updated-utc" class="db-updated-text"
              >Loading...</span
            >
            <span id="database-updated-local" class="db-updated-text"
              >Loading...</span
            >
          </span>
        </div>
      </div>
    </footer>

    <!-- Buy me a coffee -->
    <script
      data-name="BMC-Widget"
      data-cfasync="false"
      src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js"
      data-id="thatsimpilot"
      data-description="Support me on Buy me a coffee!"
      data-message="Thank you for using the ATCGroundPoint Airport Map. If you'd like to see similar projects please consider supporting me."
      data-color="#5F7FFF"
      data-position="Right"
      data-x_margin="18"
      data-y_margin="18"
    ></script>

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>

    <!-- Custom JS -->
    <script src="main.js"></script>
  </body>
</html>
